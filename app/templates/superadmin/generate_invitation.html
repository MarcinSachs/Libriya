{% extends "base/main_base.html" %}

{% block content %}
<div class="max-w-7xl mx-auto px-4">
    <div class="max-w-md mx-auto">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <div class="bg-gray-100 px-4 py-3 border-b border-gray-200">
                <h3 class="text-xl font-bold text-gray-800">{{ _('Generate Invitation Code') }}</h3>
            </div>
            <div class="px-4 py-5">
                <form method="POST" novalidate>
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                    <div class="mb-3">
                        <label for="library_id" class="block font-medium text-gray-700 mb-2">{{ _('Library') }}</label>
                        <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-[#4ecdc4] focus:ring-2 focus:ring-[#4ecdc4] focus:ring-opacity-20 transition" id="library_id" name="library_id" required>
                            <option value="">{{ _('Select a library') }}</option>
                            {% for library in libraries %}
                                <option value="{{ library.id }}">{{ library.name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="days_valid" class="block font-medium text-gray-700 mb-2">{{ _('Valid for (days)') }}</label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-[#4ecdc4] focus:ring-2 focus:ring-[#4ecdc4] focus:ring-opacity-20 transition" id="days_valid" name="days_valid" 
                               value="7" min="1" max="365" required>
                        <small class="text-gray-600 block mt-1">{{ _('Code will expire after this many days') }}</small>
                    </div>

                    <div class="bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg mb-4">
                        <i class='bx bx-info-circle'></i>
                        {{ _('This code will be valid for ONE registration only. Once used, it cannot be reused.') }}
                    </div>

                    <div class="space-y-2">
                        <button type="submit" class="w-full btn btn-primary flex items-center justify-center">
                            <i class='bx bx-plus'></i> {{ _('Generate Code') }}
                        </button>
                        <a href="{{ url_for('invitations.invitation_codes_list') }}" class="w-full btn btn-outline text-center">
                            {{ _('Cancel') }}
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
